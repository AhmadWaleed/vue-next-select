System.register("VueNextSelect",["vue"],(function(e){"use strict";var l,t,a,n,o,u,i,s,d,r,c,p,g,h,v,m,y,f,b,I,B;return{setters:[function(e){l=e.ref,t=e.onMounted,a=e.onUpdated,n=e.openBlock,o=e.createBlock,u=e.renderSlot,i=e.createVNode,s=e.withKeys,d=e.withModifiers,r=e.inject,c=e.Fragment,p=e.renderList,g=e.toDisplayString,h=e.createCommentVNode,v=e.watch,m=e.computed,y=e.provide,f=e.resolveComponent,b=e.withCtx,I=e.withDirectives,B=e.vShow}],execute:function(){var w={inheritAttrs:!1,name:"vue-input",props:{modelValue:{required:!0,type:String},placeholder:{required:!0,type:String},disabled:{required:!0,type:Boolean},tabindex:{required:!0,type:Number},autofocus:{required:!0,type:Boolean}},emits:["update:modelValue","input","change","focus","blur","escape"],setup(e,n){const o=l(null);return t(()=>{e.autofocus&&o.value.focus()}),a(()=>{e.autofocus&&o.value.focus()}),{handleInput:e=>{n.emit("input",e),n.emit("update:modelValue",e.target.value)},handleChange:e=>{n.emit("change",e),n.emit("update:modelValue",e.target.value)},handleFocus:e=>{n.emit("focus",e)},handleBlur:e=>{n.emit("blur",e)},input:o,handleEscape:e=>{o.value.blur(),n.emit("escape",e)}}}};const M={class:"vue-input"};w.render=function(e,l,t,a,r,c){return n(),o("div",M,[u(e.$slots,"prepend"),i("input",{ref:"input",modelValue:t.modelValue,placeholder:t.placeholder,disabled:t.disabled,onInput:l[1]||(l[1]=(...e)=>a.handleInput(...e)),onChange:l[2]||(l[2]=(...e)=>a.handleChange(...e)),onFocus:l[3]||(l[3]=(...e)=>a.handleFocus(...e)),onBlur:l[4]||(l[4]=(...e)=>a.handleBlur(...e)),onKeyup:l[5]||(l[5]=s(d((...e)=>a.handleEscape(...e),["exact"]),["esc"])),tabindex:t.tabindex,autofocus:t.autofocus},null,40,["modelValue","placeholder","disabled","tabindex","autofocus"]),u(e.$slots,"append")])},w.__file="src/components/input.vue";var V={inheritAttrs:!1,name:"vue-tags",props:{modelValue:{required:!0,type:Array,validator:e=>e.every(e=>void 0!==typeof e.key&&void 0!==e.label&&"boolean"==typeof e.selected)},collapseTags:{type:Boolean}},emits:["click"],setup:(e,l)=>({dataAttrs:r("dataAttrs"),handleClick:e=>{l.emit("click",e)}})};V.render=function(e,l,t,a,s,r){return n(),o("ul",{class:["vue-tags",{collapsed:t.collapseTags}],onMousedown:l[1]||(l[1]=d(()=>{},["prevent"])),tabindex:"-1",onClick:l[2]||(l[2]=(...e)=>a.handleClick(...e)),"data-is-focusing":a.dataAttrs.isFocusing,"data-visible-length":a.dataAttrs.visibleLength,"data-not-selected-length":a.dataAttrs.notSelectedLength,"data-selected-length":a.dataAttrs.selectedLength,"data-total-length":a.dataAttrs.totalLength},[(n(!0),o(c,null,p(t.modelValue,l=>(n(),o("li",{key:l.key,class:["vue-tag",{selected:l.selected}]},[u(e.$slots,"default",{option:l},()=>[i("span",null,g(l.label),1)])],2))),128))],42,["data-is-focusing","data-visible-length","data-not-selected-length","data-selected-length","data-total-length"])},V.__file="src/components/tags.vue";var k={inheritAttrs:!1,name:"vue-dropdown",props:{modelValue:{required:!0,type:Array,validator:e=>e.every(e=>void 0!==typeof e.key&&void 0!==e.label&&"boolean"==typeof e.selected)},headerHeight:{required:!0,type:String}},emits:["click"],setup:(e,l)=>({dataAttrs:r("dataAttrs"),handleClick:(e,t)=>{l.emit("click",e,t)}})};k.render=function(e,l,t,a,s,r){return n(),o("ul",{class:"vue-dropdown",onMousedown:l[1]||(l[1]=d(()=>{},["prevent"])),style:{top:t.headerHeight},"data-is-focusing":a.dataAttrs.isFocusing,"data-visible-length":a.dataAttrs.visibleLength,"data-not-selected-length":a.dataAttrs.notSelectedLength,"data-selected-length":a.dataAttrs.selectedLength,"data-total-length":a.dataAttrs.totalLength},[(n(!0),o(c,null,p(t.modelValue,l=>(n(),o(c,{key:l.key},[l.visible&&!1===l.hidden?(n(),o("li",{key:0,onClick:e=>a.handleClick(e,l),class:["vue-dropdown-item",{selected:l.selected}]},[u(e.$slots,"default",{option:l},()=>[i("span",null,g(l.label),1)])],10,["onClick"])):h("v-if",!0)],64))),128))],44,["data-is-focusing","data-visible-length","data-not-selected-length","data-selected-length","data-total-length"])},k.__file="src/components/dropdown.vue";const A=(e,l,{valueBy:t})=>t(e)===t(l),x=(e,l,{valueBy:t})=>-1!==e.findIndex(e=>A(e,l,{valueBy:t})),F=(e,l,{valueBy:t})=>e.find(e=>t(e)===l),D=(e,l,{max:t,valueBy:a})=>x(e,l,{valueBy:a})||e.length+1>t?e:e.concat(l),L=(e,l,{min:t,valueBy:a})=>!1===x(e,l,{valueBy:a})||e.length-1<t?e:e.filter(e=>!1===A(e,l,{valueBy:a}));var S=e("default",{name:"vue-select",inheritAttrs:!1,props:{modelValue:{required:!0},options:{required:!0,type:Array},visibleOptions:{type:[Array,null],default:null},multiple:{default:!1,type:Boolean},min:{default:0,type:Number},max:{default:1/0,type:Number},closeOnSelect:{default:!1,type:Boolean},clearOnSelect:{default:!1,type:Boolean},trackBy:{type:[String,Function]},hideSelected:{default:!1,type:Boolean},labelBy:{type:[String,Function]},valueBy:{type:[String,Function]},disabled:{default:!1,type:Boolean},loading:{default:!1,type:Boolean},placeholder:{default:"Select option",type:String},searchPlaceholder:{default:"Type to search",type:String},searchable:{default:!1,type:Boolean},taggable:{default:!1,type:Boolean},collapseTags:{default:!1,type:Boolean},tabindex:{default:0,type:Number},autofocus:{default:!1,type:Boolean}},emits:["update:modelValue","select","remove","open","close","search-input","search-change","focus","blur"],setup(e,a){const{trackBy:n,labelBy:o,valueBy:u,min:i,max:s}=(e=>({trackBy:"function"==typeof e.trackBy?e.trackBy:"string"==typeof e.trackBy?l=>e.trackBy.split(".").reduce((e,l)=>e[l],l):e=>e,labelBy:"function"==typeof e.labelBy?e.labelBy:"string"==typeof e.labelBy?l=>e.labelBy.split(".").reduce((e,l)=>e[l],l):e=>e,valueBy:"function"==typeof e.valueBy?e.valueBy:"string"==typeof e.valueBy?l=>e.valueBy.split(".").reduce((e,l)=>e[l],l):e=>e,min:e.multiple?e.min:Math.min(1,e.min),max:e.multiple?e.max:1}))(e),d=l(null),r=l(null),c=l(!1);v(()=>c.value,()=>{c.value?(a.emit("open"),e.searchable&&a.emit("focus"),e.searchable?r.value&&r.value._.refs.input!==document.activeElement&&r.value._.refs.input.focus():!1===e.searchable&&d.value.focus()):(r.value&&r.value._.refs.input===document.activeElement&&r.value._.refs.input.blur(),d.value&&d.value===document.activeElement&&d.value.blur(),e.searchable&&a.emit("blur"),a.emit("close"))});const p=()=>{e.disabled||(c.value=!0)},g=()=>{c.value=!1};v(()=>e.disabled,()=>g());const h=l(null),f=(b=h,I=()=>e.modelValue,B=l("0"),v(I,w=function(){setTimeout((function(){b.value&&(B.value=window.getComputedStyle(b.value).height)}))}),t(w),B);var b,I,B,w;const M=m(()=>e.searchable&&e.multiple&&e.taggable?"22px":"0px"),V=m(()=>parseFloat(f.value)+parseFloat(M.value)+"px"),k=l(""),A=l([]),S=()=>{if(e.multiple){if(!1===Array.isArray(e.modelValue))return!1;if(A.value.length!==e.modelValue.length)return!1;if(Object.keys(A.value).some(l=>A.value[l]!==F(e.options,e.modelValue[l],{valueBy:u})))return!1}else{if(0===A.value.length&&null!==e.modelValue)return!1;if(1===A.value.length&&null===e.modelValue)return!1;if(A.value[0]!==F(e.options,e.modelValue,{valueBy:u}))return!1}return!0},C=()=>{if(S())return;A.value=[];const l=e.multiple?e.modelValue:null===e.modelValue?[]:[e.modelValue];for(const t of l){const l=F(e.options,t,{valueBy:u});!1!==x(e.options,l,{valueBy:u})&&(A.value=D(A.value,l,{max:1/0,valueBy:u}))}};C(),v(()=>e.modelValue,()=>{C()},{deep:!0});v(()=>A,()=>{(()=>{if(S())return;const l=A.value.map(e=>u(e));e.multiple?a.emit("update:modelValue",l):l.length?a.emit("update:modelValue",l[0]):a.emit("update:modelValue",null)})()},{deep:!0}),v(()=>e.options,()=>{const l=new Set(A.value.map(e=>u(e)));A.value=e.options.filter(e=>l.has(u(e)))},{deep:!0});const N=(l,t)=>{if(!e.disabled){if(t=t.originalOption,x(A.value,t,{valueBy:u}))A.value=L(A.value,t,{min:i,valueBy:u}),a.emit("remove",t);else{if(!e.multiple){const e=A.value[0];A.value=L(A.value,A.value[0],{min:0,valueBy:u}),a.emit("remove",e)}A.value=D(A.value,t,{max:s,valueBy:u}),a.emit("select",t)}!0===e.closeOnSelect&&(c.value=!1),!0===e.clearOnSelect&&k.value&&(r.value._.refs.input.value="",r.value._.refs.input.dispatchEvent(new Event("input")),r.value._.refs.input.dispatchEvent(new Event("change")))}},O=m(()=>{const l=new Set(A.value.map(e=>u(e))),t=null!==e.visibleOptions?new Set(e.visibleOptions.map(e=>u(e))):new Set(e.options.map(e=>u(e)));return e.options.map(a=>({key:n(a),label:o(a),selected:l.has(u(a)),visible:t.has(u(a)),hidden:!!e.hideSelected&&l.has(u(a)),originalOption:a}))}),T=m(()=>({isFocusing:c.value,visibleLength:O.value.filter(e=>e.visible&&!1===e.hidden).length,notSelectedLength:e.options.length-O.value.filter(e=>e.selected).length,selectedLength:O.value.filter(e=>e.selected).length,totalLength:e.options.length}));return y("dataAttrs",T),{isFocusing:c,wrapper:d,input:r,focus:p,blur:g,toggle:()=>{c.value?g():p()},header:h,headerAndInputHeight:V,searchingInputValue:k,handleInputForInput:e=>{a.emit("search-input",e)},handleChangeForInput:e=>{a.emit("search-change",e)},handleFocusForInput:e=>{p()},handleBlurForInput:e=>{g()},handleClickForDropdown:(e,l)=>N(0,l),handleClickForTag:(e,l)=>N(0,l),optionsWithInfo:O,addOrRemoveOption:N,dataAttrs:T}},components:{VInput:w,VTags:V,VDropdown:k}});const C={ref:"header",class:"vue-select-header"},N={key:0,class:"vue-input"},O={class:"icon loading"},T=i("div",null,null,-1),E=i("div",null,null,-1),z=i("div",null,null,-1),j={class:"icon loading"},_=i("div",null,null,-1),Z=i("div",null,null,-1),W=i("div",null,null,-1);S.render=function(e,l,t,a,s,r){const p=f("v-tags"),v=f("v-input"),m=f("v-dropdown");return n(),o("div",{ref:"wrapper",class:["vue-select",{disabled:t.disabled}],tabindex:a.isFocusing?-1:t.tabindex,onFocus:l[8]||(l[8]=(...e)=>a.focus(...e)),onBlur:l[9]||(l[9]=()=>!t.searchable&&a.blur()),"data-is-focusing":a.dataAttrs.isFocusing,"data-visible-length":a.dataAttrs.visibleLength,"data-not-selected-length":a.dataAttrs.notSelectedLength,"data-selected-length":a.dataAttrs.selectedLength,"data-total-length":a.dataAttrs.totalLength},[i("div",C,[t.multiple&&t.taggable&&0===t.modelValue.length||!1===t.searchable&&!1===t.taggable?(n(),o("div",N,[i("input",{placeholder:t.placeholder,disabled:""},null,8,["placeholder"])])):h("v-if",!0),t.multiple&&t.taggable?(n(),o(c,{key:1},[i(p,{modelValue:a.optionsWithInfo,"collapse-tags":t.collapseTags,tabindex:"-1",onClick:a.focus},{default:b(({option:l})=>[u(e.$slots,"tag",{option:l.originalOption},()=>[i("span",null,g(l.label),1),i("img",{src:"data:image/svg+xml;base64,PHN2ZyBpZD0iZGVsZXRlIiBkYXRhLW5hbWU9ImRlbGV0ZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHRpdGxlPmRlbGV0ZTwvdGl0bGU+PHBhdGggZD0iTTI1NiwyNEMzODMuOSwyNCw0ODgsMTI4LjEsNDg4LDI1NlMzODMuOSw0ODgsMjU2LDQ4OCwyNC4wNiwzODMuOSwyNC4wNiwyNTYsMTI4LjEsMjQsMjU2LDI0Wk0wLDI1NkMwLDM5Ny4xNiwxMTQuODQsNTEyLDI1Niw1MTJTNTEyLDM5Ny4xNiw1MTIsMjU2LDM5Ny4xNiwwLDI1NiwwLDAsMTE0Ljg0LDAsMjU2WiIgZmlsbD0iIzViNWI1ZiIvPjxwb2x5Z29uIHBvaW50cz0iMzgyIDE3Mi43MiAzMzkuMjkgMTMwLjAxIDI1NiAyMTMuMjkgMTcyLjcyIDEzMC4wMSAxMzAuMDEgMTcyLjcyIDIxMy4yOSAyNTYgMTMwLjAxIDMzOS4yOCAxNzIuNzIgMzgyIDI1NiAyOTguNzEgMzM5LjI5IDM4MS45OSAzODIgMzM5LjI4IDI5OC43MSAyNTYgMzgyIDE3Mi43MiIgZmlsbD0iIzViNWI1ZiIvPjwvc3ZnPg==",alt:"delete tag",class:"icon delete",onClick:d(()=>a.addOrRemoveOption(e.$event,l),["prevent","stop"])},null,8,["onClick"])])]),_:1},8,["modelValue","collapse-tags","onClick"]),i("span",{class:["icon arrow-downward",{active:a.isFocusing}],onClick:l[1]||(l[1]=(...e)=>a.toggle(...e)),onMousedown:l[2]||(l[2]=d(()=>{},["prevent","stop"]))},null,34)],64)):(n(),o(c,{key:2},[t.searchable?(n(),o(v,{key:0,ref:"input",modelValue:a.searchingInputValue,"onUpdate:modelValue":l[3]||(l[3]=e=>a.searchingInputValue=e),disabled:t.disabled,placeholder:t.searchPlaceholder,onInput:a.handleInputForInput,onChange:a.handleChangeForInput,onFocus:a.handleFocusForInput,onBlur:a.handleBlurForInput,onEscape:a.blur,autofocus:t.autofocus||t.taggable&&t.searchable,tabindex:t.tabindex},null,8,["modelValue","disabled","placeholder","onInput","onChange","onFocus","onBlur","onEscape","autofocus","tabindex"])):h("v-if",!0),I(i("span",O,[T,E,z],512),[[B,t.loading]]),I(i("span",{class:["icon arrow-downward",{active:a.isFocusing}],onClick:l[4]||(l[4]=(...e)=>a.toggle(...e)),onMousedown:l[5]||(l[5]=d(()=>{},["prevent","stop"]))},null,34),[[B,!1===t.loading]])],64))],512),t.multiple&&t.taggable&&t.searchable?I((n(),o(v,{key:0,ref:"input",modelValue:a.searchingInputValue,"onUpdate:modelValue":l[6]||(l[6]=e=>a.searchingInputValue=e),disabled:t.disabled,placeholder:t.searchPlaceholder,onInput:a.handleInputForInput,onChange:a.handleChangeForInput,onFocus:a.handleFocusForInput,onBlur:a.handleBlurForInput,onEscape:a.blur,tabindex:t.tabindex,autofocus:t.autofocus||t.taggable&&t.searchable},{append:b(()=>[I(i("span",j,[_,Z,W],512),[[B,t.loading]])]),_:1},8,["modelValue","disabled","placeholder","onInput","onChange","onFocus","onBlur","onEscape","tabindex","autofocus"])),[[B,a.isFocusing]]):h("v-if",!0),I(i(m,{modelValue:a.optionsWithInfo,"onUpdate:modelValue":l[7]||(l[7]=e=>a.optionsWithInfo=e),onClick:a.handleClickForDropdown,"header-height":a.headerAndInputHeight},{default:b(({option:l})=>[u(e.$slots,"dropdown-item",{option:l.originalOption},()=>[i("span",null,g(l.label),1)])]),_:1},8,["modelValue","onClick","header-height"]),[[B,a.isFocusing]])],42,["tabindex","data-is-focusing","data-visible-length","data-not-selected-length","data-selected-length","data-total-length"])},S.__file="src/index.vue"}}}));
