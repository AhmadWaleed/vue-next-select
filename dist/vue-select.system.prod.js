System.register("VueSelect",["vue"],(function(e){"use strict";var l,n,a,t,o,u,i,s,r,d,c,p,v,y,m,g,h;return{setters:[function(e){l=e.ref,n=e.openBlock,a=e.createBlock,t=e.renderSlot,o=e.createVNode,u=e.withKeys,i=e.withModifiers,s=e.Fragment,r=e.renderList,d=e.toDisplayString,c=e.onMounted,p=e.onUnmounted,v=e.watch,y=e.computed,m=e.resolveComponent,g=e.withCtx,h=e.createCommentVNode}],execute:function(){var f={inheritAttrs:!1,name:"vue-input",props:{modelValue:{required:!0,type:String},placeholder:{required:!0,type:String},disabled:{required:!0,type:Boolean}},setup(e,n){const a=l(null);return{handleInput:e=>{n.emit("input",e),n.emit("update:modelValue",e.target.value)},handleChange:e=>{n.emit("change",e),n.emit("update:modelValue",e.target.value)},handleFocus:e=>{n.emit("focus",e)},handleBlur:e=>{n.emit("blur",e)},input:a,handleEscape:e=>{n.emit("escape",e),a.value.blur()}}}};const I={class:"vue-input"};f.render=function(e,l,s,r,d,c){return n(),a("div",I,[t(e.$slots,"prepend"),o("input",{ref:"input",modelValue:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,onInput:l[1]||(l[1]=(...l)=>e.handleInput(...l)),onChange:l[2]||(l[2]=(...l)=>e.handleChange(...l)),onFocus:l[3]||(l[3]=(...l)=>e.handleFocus(...l)),onBlur:l[4]||(l[4]=(...l)=>e.handleBlur(...l)),onKeyup:l[5]||(l[5]=u(i((...l)=>e.handleEscape(...l),["exact"]),["esc"]))},null,40,["modelValue","placeholder","disabled"]),t(e.$slots,"append")])},f.__file="src/components/input.vue";var B={name:"vue-tag",props:{modelValue:{required:!0,type:Array,validator:e=>e.every(e=>"string"==typeof e.id&&"string"==typeof e.label&&"boolean"==typeof e.active)}},setup:(e,l)=>({handleClick:(e,n)=>{l.emit("click",e,n)}})};const w={class:"vue-tag"};B.render=function(e,l,u,i,c,p){return n(),a("ul",w,[(n(!0),a(s,null,r(e.modelValue,l=>(n(),a("li",{key:l.id,onClick:n=>e.handleClick(n,l),class:["vue-tag-item",{active:l.active,inactive:!l.active}]},[t(e.$slots,"default",{option:l},()=>[o("span",null,d(l.label),1)])],10,["onClick"]))),256))])},B.__file="src/components/tag.vue";var M={inheritAttrs:!1,name:"vue-dropdown",props:{modelValue:{required:!0,type:Array,validator:e=>e.every(e=>"string"==typeof e.id&&"string"==typeof e.label&&"boolean"==typeof e.active)}},setup:(e,l)=>({handleClick:(e,n)=>{l.emit("click",e,n)}})};const b={class:"vue-dropdown"};M.render=function(e,l,u,i,c,p){return n(),a("ul",b,[(n(!0),a(s,null,r(e.modelValue,l=>(n(),a("li",{key:l.id,onClick:n=>e.handleClick(n,l),class:["vue-dropdown-item",{active:l.active,inactive:!l.active}]},[t(e.$slots,"default",{option:l},()=>[o("span",null,d(l.label),1)])],10,["onClick"]))),256))])},M.__file="src/components/dropdown.vue";const k=(e,l,{valueBy:n})=>n(e)===n(l),V=(e,l,{valueBy:n})=>void 0!==e.find(e=>k(e,l,{valueBy:n})),C=(e,l,{valueBy:n})=>e.find(e=>n(e)===l),D=(e,l,{max:n,valueBy:a})=>V(e,l,{valueBy:a})||e.length+1>n?e:e.concat(l);var N=e("default",{name:"vue-select",inheritAttrs:!1,props:{modelValue:{required:!0},options:{required:!0,type:Array},visibleOptions:{type:Array},allowEmpty:{default:!1,type:Boolean},multiple:{default:!1,type:Boolean},min:{default:0,type:Number},max:{default:1/0,type:Number},closeOnSelect:{default:!1,type:Boolean},trackBy:{type:[String,Function]},hideSelected:{default:!1,type:Boolean},labelBy:{type:[String,Function]},valueBy:{type:[String,Function]},disabled:{default:!1,type:Boolean},loading:{default:!1,type:Boolean},placeholder:{default:"Select option",type:String},searchable:{default:!1,type:Boolean},clearOnSelect:{default:!1,type:Boolean},taggable:{default:!1,type:Boolean},ellipsis:{default:!1,type:Boolean}},setup(e,n){const{trackBy:a,labelBy:t,valueBy:o}=(e=>({trackBy:"function"==typeof e.trackBy?e.trackBy:"string"==typeof e.trackBy?l=>e.trackBy.split(".").reduce((e,l)=>e[l],l):e=>e,labelBy:"function"==typeof e.labelBy?e.labelBy:"string"==typeof e.labelBy?l=>e.labelBy.split(".").reduce((e,l)=>e[l],l):e=>e,valueBy:"function"==typeof e.valueBy?e.valueBy:"string"==typeof e.valueBy?l=>e.valueBy.split(".").reduce((e,l)=>e[l],l):e=>e}))(e),u=l(null),{isFocusing:i}=(({wrapperRef:e,ignoreClasses:l=[]})=>{const n=e=>l.some(l=>e.classList.contains(l)),a=ref(!1),t=l=>{if(!l)return;if(!l.target)return;let t=l.target;for(;t;){if(n(t))return;if(t===e.value)return void(a.value=!0);t=t.parentElement}a.value=!1};return c(()=>window.addEventListener("click",t)),p(()=>window.removeEventListener("click",t)),{isFocusing:a}})({wrapperRef:u,ignoreClasses:["vue-select-tag","icon-delete"]}),s=l(null);v(()=>i.value,()=>{i.value?n.emit("open"):n.emit("close"),setTimeout(()=>r())});const r=()=>{i.value&&s.value&&s.value._&&s.value._.refs.input.focus()},d=l(""),m=l([]);if(e.multiple)e.modelValue.forEach(l=>{const n=C(e.options,l,{valueBy:o});m.value=D(m.value,n,{max:e.max,valueBy:o})});else{const l=C(e.options,modelValue,{valueBy:o});m.value=D(m.value,l,{max:e.max,valueBy:o})}const g=(l,a)=>{a=C(e.options,a.id,{valueBy:o}),V(m.value,a,{valueBy:o})?(m.value=((e,l,{min:n,valueBy:a})=>!1===V(e,l,{valueBy:a})||e.length-1<n?e:e.filter(e=>!1===k(e,l,{valueBy:a})))(m.value,a,{min:e.min,valueBy:o}),n.emit("remove",a)):(m.value=D(m.value,a,{max:e.max,valueBy:o}),n.emit("select",a))};v(()=>m,()=>{const l=m.value.map(e=>o(e));e.multiple?n.emit("update:modelValue",l):l.length?n.emit("update:modelValue",l[0]):n.emit("update:modelValue",null),r()},{deep:!0});const h=y(()=>{const l=new Set(m.value.map(e=>o(e)));return(e.visibleOptions||e.options).map(e=>({id:a(e),label:t(e),active:l.has(e.value),originalOption:e}))}),f=y(()=>{const l=new Set(m.value.map(e=>o(e)));return e.options.map(e=>({id:a(e),label:t(e),active:l.has(e.value),originalOption:e}))});return v(()=>e.options,()=>{const l=new Set(m.value.map(e=>e.value));m.value=e.options.filter(e=>l.has(o(e)))},{deep:!0}),{isFocusing:i,input:s,wrapper:u,close:()=>{const e=i.value;setTimeout(()=>{!0===e&&(i.value=!1)})},searchingInputValue:d,handleInputForInput:e=>{d.value=e.target.value,n.emit("search-input",e)},handleChangeForInput:e=>{d.value=e.target.value,n.emit("search-change",e)},handleFocusForInput:e=>{n.emit("focus",e)},handleBlurForInput:e=>{n.emit("blur",e)},handleClickForDropdown:(e,l)=>g(0,l),handleClickForTag:(e,l)=>g(0,l),dropdownSelectedOptions:h,tagSelectedOptions:f,addOrRemoveOption:g,focus:r}},components:{VInput:f,VTag:B,VDropdown:M}});const F={class:"vue-select-header"},O={key:2,class:"icon-loading"},S=o("div",null,null,-1),L=o("div",null,null,-1),x=o("div",null,null,-1),T={key:0,class:"icon-loading"},A=o("div",null,null,-1),E=o("div",null,null,-1),z=o("div",null,null,-1);N.render=function(e,l,u,i,r,c){const p=m("v-tag"),v=m("v-input"),y=m("v-dropdown");return n(),a("div",{ref:"wrapper",class:"vue-select",onClick:l[6]||(l[6]=(...l)=>e.focus(...l))},[o("div",F,[e.taggable?(n(),a(s,{key:0},[o(p,{modelValue:e.tagSelectedOptions,class:["vue-select-tag",{ellipsis:e.ellipsis}]},{default:g(({option:l})=>[t(e.$slots,"tag-item",{option:l.originalOption},()=>[o("span",null,d(l.label),1),o("img",{src:"data:image/svg+xml;base64,PHN2ZyBpZD0iZGVsZXRlIiBkYXRhLW5hbWU9ImRlbGV0ZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHRpdGxlPmRlbGV0ZTwvdGl0bGU+PHBhdGggZD0iTTI1NiwyNEMzODMuOSwyNCw0ODgsMTI4LjEsNDg4LDI1NlMzODMuOSw0ODgsMjU2LDQ4OCwyNC4wNiwzODMuOSwyNC4wNiwyNTYsMTI4LjEsMjQsMjU2LDI0Wk0wLDI1NkMwLDM5Ny4xNiwxMTQuODQsNTEyLDI1Niw1MTJTNTEyLDM5Ny4xNiw1MTIsMjU2LDM5Ny4xNiwwLDI1NiwwLDAsMTE0Ljg0LDAsMjU2WiIgZmlsbD0iIzViNWI1ZiIvPjxwb2x5Z29uIHBvaW50cz0iMzgyIDE3Mi43MiAzMzkuMjkgMTMwLjAxIDI1NiAyMTMuMjkgMTcyLjcyIDEzMC4wMSAxMzAuMDEgMTcyLjcyIDIxMy4yOSAyNTYgMTMwLjAxIDMzOS4yOCAxNzIuNzIgMzgyIDI1NiAyOTguNzEgMzM5LjI5IDM4MS45OSAzODIgMzM5LjI4IDI5OC43MSAyNTYgMzgyIDE3Mi43MiIgZmlsbD0iIzViNWI1ZiIvPjwvc3ZnPg==",alt:"delete tag",class:"icon-delete",onClick:()=>e.addOrRemoveOption(e.$event,l)},null,8,["onClick"])])]),_:1},8,["modelValue","class"]),o("span",{class:["icon-arrow-downward",{active:e.isFocusing}],onClick:l[1]||(l[1]=(...l)=>e.close(...l))},null,2)],64)):(n(),a(s,{key:1},[e.searchable?o(v,{key:0,ref:"input",modelValue:e.searchingInputValue,"onUpdate:modelValue":l[2]||(l[2]=l=>e.searchingInputValue=l),disabled:e.disabled,placeholder:e.placeholder,onInput:e.handleInputForInput,onChange:e.handleChangeForInput,onFocus:e.handleFocusForInput,onBlur:e.handleBlurForInput,onEscape:e.close,class:"vue-select-input"},null,8,["modelValue","disabled","placeholder","onInput","onChange","onFocus","onBlur","onEscape"]):(n(),a("div",{key:1,ref:"input"},d(e.placeholder),513)),e.loading?(n(),a("span",O,[S,L,x])):(n(),a("span",{key:3,class:["icon-arrow-downward",{active:e.isFocusing}],onClick:l[3]||(l[3]=(...l)=>e.close(...l))},null,2))],64))]),e.isFocusing?(n(),a(s,{key:0},[e.taggable&&e.searchable?o(v,{key:0,ref:"input",modelValue:e.searchingInputValue,"onUpdate:modelValue":l[4]||(l[4]=l=>e.searchingInputValue=l),disabled:e.disabled,placeholder:e.placeholder,onInput:e.handleInputForInput,onChange:e.handleChangeForInput,onFocus:e.handleFocusForInput,onBlur:e.handleBlurForInput,onEscape:e.close,class:"vue-select-input"},{append:g(()=>[e.loading?(n(),a("span",T,[A,E,z])):h("v-if",!0)]),_:1},8,["modelValue","disabled","placeholder","onInput","onChange","onFocus","onBlur","onEscape"]):h("v-if",!0),o(y,{modelValue:e.dropdownSelectedOptions,"onUpdate:modelValue":l[5]||(l[5]=l=>e.dropdownSelectedOptions=l),onClick:e.handleClickForDropdown,class:"vue-select-dropdown"},{default:g(({option:l})=>[t(e.$slots,"dropdown-item",{option:l.originalOption},()=>[o("span",null,d(l.label),1)])]),_:1},8,["modelValue","onClick"])],64)):h("v-if",!0)],512)},N.__file="src/index.vue"}}}));
