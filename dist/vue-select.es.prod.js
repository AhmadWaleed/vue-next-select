import{ref as e,openBlock as l,createBlock as n,createVNode as t,withKeys as o,withModifiers as a,Fragment as u,renderList as d,toDisplayString as i,onMounted as r,onUnmounted as p,watch as s,resolveComponent as m,withDirectives as c,vShow as h}from"vue";var v={inheritAttrs:!1,name:"vue-select-input",props:{modelValue:{required:!0,type:String},placeholder:{required:!0,type:String},isDisabled:{required:!0,type:Boolean},isLoading:{required:!0,type:Boolean},isOpen:{required:!0,type:Boolean}},setup(l,n){const t=e(null);return{handleInput:e=>{n.emit("input",e),n.emit("update:modelValue",e.target.value)},handleChange:e=>{n.emit("change",e),n.emit("update:modelValue",e.target.value)},handleFocus:e=>{n.emit("focus",e)},handleBlur:e=>{n.emit("blur",e)},input:t,handleEscape:e=>{n.emit("escape",e),t.value.blur()}}}};const g={class:"vue-select-input-wrapper"},V={key:0,class:"vue-select-dropdown-loading"},y=t("div",null,null,-1),f=t("div",null,null,-1),F=t("div",null,null,-1);v.render=function(e,u,d,i,r,p){return l(),n("div",g,[t("input",{ref:"input",class:"vue-select-input",modelValue:e.modelValue,placeholder:e.placeholder,disabled:e.isDisabled,onInput:u[1]||(u[1]=(...l)=>e.handleInput(...l)),onChange:u[2]||(u[2]=(...l)=>e.handleChange(...l)),onFocus:u[3]||(u[3]=(...l)=>e.handleFocus(...l)),onBlur:u[4]||(u[4]=(...l)=>e.handleBlur(...l)),onKeyup:u[5]||(u[5]=o(a((...l)=>e.handleEscape(...l),["exact"]),["esc"]))},null,40,["modelValue","placeholder","disabled"]),e.isLoading?(l(),n("span",V,[y,f,F])):(l(),n("span",{key:1,class:["vue-select-dropdown-icon",{active:e.isOpen}]},null,2))])},v.__file="src/components/input.vue";var w={name:"vue-select-dropdown",props:{modelValue:{required:!0,type:Array},options:{required:!0,type:Array},canBeEmpty:{required:!0,type:Boolean},isMultiple:{required:!0,type:Boolean},minLength:{required:!0,type:Number},maxLength:{required:!0,type:Number}},setup(l,n){e(null);const t=e=>l.modelValue.some(l=>o(e,l)),o=(e,l)=>e===l;return{handleClick:e=>{l.isMultiple?t(e)?l.modelValue.length>l.minLength&&(n.emit("remove",e),n.emit("update:modelValue",l.modelValue.filter(l=>!1===o(l,e)))):l.modelValue.length<l.maxLength&&(n.emit("select",e),n.emit("update:modelValue",l.modelValue.concat(e))):1===l.modelValue.length?o(l.modelValue[0],e)?l.canBeEmpty&&(n.emit("remove",l.modelValue[0]),n.emit("update:modelValue",[])):(n.emit("remove",l.modelValue[0]),n.emit("update:modelValue",[]),n.emit("select",e),n.emit("update:modelValue",[e])):(n.emit("select",e),n.emit("update:modelValue",[e]))},hasSelected:t}}};const B={ref:"ul",class:"vue-select-dropdown",style:{outline:"none"}};w.render=function(e,t,o,a,r,p){return l(),n("ul",B,[(l(!0),n(u,null,d(e.options,t=>(l(),n("li",{class:"vue-select-dropdown-item",onClick:l=>e.handleClick(t),selected:e.hasSelected(t)},i(t),9,["onClick","selected"]))),256))],512)},w.__file="src/components/dropdown.vue";var I={name:"vue-select",inheritAttrs:!1,props:{modelValue:{required:!0},options:{required:!0,type:Array},canBeEmpty:{default:!1,type:Boolean},isMultiple:{default:!1,type:Boolean},minLength:{default:0,type:Number},maxLength:{default:1/0,type:Number},closeOnSelect:{default:!1,type:Boolean},isDisabled:{default:!1,type:Boolean},isLoading:{default:!1,type:Boolean},placeholder:{default:"Select option",type:String}},setup(l,n){const t=e(null),o=e(null),a=e(!1),u=e=>{if(!e)return;if(!e.target)return;let l=e.target;for(;l;){if(l===t.value)return a.value=!0,void o.value._.refs.input.focus();l=l.parentElement}a.value=!1};r(()=>{window.addEventListener("click",u)}),p(()=>{window.removeEventListener("click",u)});const d=e(""),i=e(l.isMultiple?[...l.modelValue]:[l.modelValue]);return s(()=>i,()=>{l.isMultiple?n.emit("update:modelValue",[...i.value]):i.value.length?n.emit("update:modelValue",i.value[0]):n.emit("update:modelValue",null)},{deep:!0}),{isOpen:a,input:o,wrapper:t,handleEscapeForInput:e=>{a.value=!1},searchingInputValue:d,handleInputForInput:e=>{d.value=e.target.value,n.emit("search-input",e)},handleChangeForInput:e=>{d.value=e.target.value,n.emit("search-change",e)},handleFocusForInput:e=>{n.emit("focus",e)},handleBlurForInput:e=>{n.emit("blur",e)},multipleSelectValue:i,handleOpenForDropdown:e=>{n.emit("open",e)},handleCloseForDropdown:e=>{n.emit("close",e)},handleSelectForDropdown:e=>{n.emit("select",e)},handleRemoveForDropdown:e=>{n.emit("remove",e)}}},components:{VInput:v,VDropdown:w}};const L={ref:"wrapper",class:"vue-select"};I.render=function(e,o,a,u,d,i){const r=m("v-input"),p=m("v-dropdown");return l(),n("div",L,[t(r,{ref:"input",modelValue:e.searchingInputValue,"onUpdate:modelValue":o[1]||(o[1]=l=>e.searchingInputValue=l),isOpen:e.isOpen,isDisabled:e.isDisabled,isLoading:e.isLoading,placeholder:e.placeholder,onInput:e.handleInputForInput,onChange:e.handleChangeForInput,onFocus:e.handleFocusForInput,onBlur:e.handleBlurForInput,onEscape:e.handleEscapeForInput},null,8,["modelValue","isOpen","isDisabled","isLoading","placeholder","onInput","onChange","onFocus","onBlur","onEscape"]),c(t(p,{modelValue:e.multipleSelectValue,"onUpdate:modelValue":o[2]||(o[2]=l=>e.multipleSelectValue=l),options:e.options,canBeEmpty:e.canBeEmpty,isMultiple:e.isMultiple,minLength:e.minLength,maxLength:e.maxLength,onOpen:e.handleOpenForDropdown,onClose:e.handleCloseForDropdown,onSelect:e.handleSelectForDropdown,onRemove:e.handleRemoveForDropdown},null,8,["modelValue","options","canBeEmpty","isMultiple","minLength","maxLength","onOpen","onClose","onSelect","onRemove"]),[[h,e.isOpen]])],512)},I.__file="src/index.vue";export default I;
