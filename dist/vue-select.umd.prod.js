!function(e,l){"object"==typeof exports&&"undefined"!=typeof module?module.exports=l(require("vue")):"function"==typeof define&&define.amd?define(["vue"],l):(e="undefined"!=typeof globalThis?globalThis:e||self).VueSelect=l(e.Vue)}(this,(function(e){"use strict";var l={inheritAttrs:!1,name:"vue-select-input",props:{modelValue:{required:!0,type:String},placeholder:{required:!0,type:String},isDisabled:{required:!0,type:Boolean},isLoading:{required:!0,type:Boolean},isOpen:{required:!0,type:Boolean}},setup(l,n){const t=e.ref(null);return{handleInput:e=>{n.emit("input",e),n.emit("update:modelValue",e.target.value)},handleChange:e=>{n.emit("change",e),n.emit("update:modelValue",e.target.value)},handleFocus:e=>{n.emit("focus",e)},handleBlur:e=>{n.emit("blur",e)},input:t,handleEscape:e=>{n.emit("escape",e),t.value.blur()}}}};const n={class:"vue-select-input-wrapper"},t={key:0,class:"vue-select-dropdown-loading"},o=e.createVNode("div",null,null,-1),a=e.createVNode("div",null,null,-1),u=e.createVNode("div",null,null,-1);l.render=function(l,r,i,d,p,s){return e.openBlock(),e.createBlock("div",n,[e.createVNode("input",{ref:"input",class:"vue-select-input",modelValue:l.modelValue,placeholder:l.placeholder,disabled:l.isDisabled,onInput:r[1]||(r[1]=(...e)=>l.handleInput(...e)),onChange:r[2]||(r[2]=(...e)=>l.handleChange(...e)),onFocus:r[3]||(r[3]=(...e)=>l.handleFocus(...e)),onBlur:r[4]||(r[4]=(...e)=>l.handleBlur(...e)),onKeyup:r[5]||(r[5]=e.withKeys(e.withModifiers((...e)=>l.handleEscape(...e),["exact"]),["esc"]))},null,40,["modelValue","placeholder","disabled"]),l.isLoading?(e.openBlock(),e.createBlock("span",t,[o,a,u])):(e.openBlock(),e.createBlock("span",{key:1,class:["vue-select-dropdown-icon",{active:l.isOpen}]},null,2))])},l.__file="src/components/input.vue";var r={name:"vue-select-dropdown",props:{modelValue:{required:!0,type:Array},options:{required:!0,type:Array},canBeEmpty:{required:!0,type:Boolean},isMultiple:{required:!0,type:Boolean},minLength:{required:!0,type:Number},maxLength:{required:!0,type:Number}},setup(l,n){e.ref(null);const t=e=>l.modelValue.some(l=>o(e,l)),o=(e,l)=>e===l;return{handleClick:e=>{l.isMultiple?t(e)?l.modelValue.length>l.minLength&&(n.emit("remove",e),n.emit("update:modelValue",l.modelValue.filter(l=>!1===o(l,e)))):l.modelValue.length<l.maxLength&&(n.emit("select",e),n.emit("update:modelValue",l.modelValue.concat(e))):1===l.modelValue.length?o(l.modelValue[0],e)?l.canBeEmpty&&(n.emit("remove",l.modelValue[0]),n.emit("update:modelValue",[])):(n.emit("remove",l.modelValue[0]),n.emit("update:modelValue",[]),n.emit("select",e),n.emit("update:modelValue",[e])):(n.emit("select",e),n.emit("update:modelValue",[e]))},hasSelected:t}}};const i={ref:"ul",class:"vue-select-dropdown",style:{outline:"none"}};r.render=function(l,n,t,o,a,u){return e.openBlock(),e.createBlock("ul",i,[(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(l.options,n=>(e.openBlock(),e.createBlock("li",{class:"vue-select-dropdown-item",onClick:e=>l.handleClick(n),selected:l.hasSelected(n)},e.toDisplayString(n),9,["onClick","selected"]))),256))],512)},r.__file="src/components/dropdown.vue";var d={name:"vue-select",inheritAttrs:!1,props:{modelValue:{required:!0},options:{required:!0,type:Array},canBeEmpty:{default:!1,type:Boolean},isMultiple:{default:!1,type:Boolean},minLength:{default:0,type:Number},maxLength:{default:1/0,type:Number},closeOnSelect:{default:!1,type:Boolean},isDisabled:{default:!1,type:Boolean},isLoading:{default:!1,type:Boolean},placeholder:{default:"Select option",type:String}},setup(l,n){const t=e.ref(null),o=e.ref(null),a=e.ref(!1),u=e=>{if(!e)return;if(!e.target)return;let l=e.target;for(;l;){if(l===t.value)return a.value=!0,void o.value._.refs.input.focus();l=l.parentElement}a.value=!1};e.onMounted(()=>{window.addEventListener("click",u)}),e.onUnmounted(()=>{window.removeEventListener("click",u)});const r=e.ref(""),i=e.ref(l.isMultiple?[...l.modelValue]:[l.modelValue]);return e.watch(()=>i,()=>{l.isMultiple?n.emit("update:modelValue",[...i.value]):i.value.length?n.emit("update:modelValue",i.value[0]):n.emit("update:modelValue",null)},{deep:!0}),{isOpen:a,input:o,wrapper:t,handleEscapeForInput:e=>{a.value=!1},searchingInputValue:r,handleInputForInput:e=>{r.value=e.target.value,n.emit("search-input",e)},handleChangeForInput:e=>{r.value=e.target.value,n.emit("search-change",e)},handleFocusForInput:e=>{n.emit("focus",e)},handleBlurForInput:e=>{n.emit("blur",e)},multipleSelectValue:i,handleOpenForDropdown:e=>{n.emit("open",e)},handleCloseForDropdown:e=>{n.emit("close",e)},handleSelectForDropdown:e=>{n.emit("select",e)},handleRemoveForDropdown:e=>{n.emit("remove",e)}}},components:{VInput:l,VDropdown:r}};const p={ref:"wrapper",class:"vue-select"};return d.render=function(l,n,t,o,a,u){const r=e.resolveComponent("v-input"),i=e.resolveComponent("v-dropdown");return e.openBlock(),e.createBlock("div",p,[e.createVNode(r,{ref:"input",modelValue:l.searchingInputValue,"onUpdate:modelValue":n[1]||(n[1]=e=>l.searchingInputValue=e),isOpen:l.isOpen,isDisabled:l.isDisabled,isLoading:l.isLoading,placeholder:l.placeholder,onInput:l.handleInputForInput,onChange:l.handleChangeForInput,onFocus:l.handleFocusForInput,onBlur:l.handleBlurForInput,onEscape:l.handleEscapeForInput},null,8,["modelValue","isOpen","isDisabled","isLoading","placeholder","onInput","onChange","onFocus","onBlur","onEscape"]),e.withDirectives(e.createVNode(i,{modelValue:l.multipleSelectValue,"onUpdate:modelValue":n[2]||(n[2]=e=>l.multipleSelectValue=e),options:l.options,canBeEmpty:l.canBeEmpty,isMultiple:l.isMultiple,minLength:l.minLength,maxLength:l.maxLength,onOpen:l.handleOpenForDropdown,onClose:l.handleCloseForDropdown,onSelect:l.handleSelectForDropdown,onRemove:l.handleRemoveForDropdown},null,8,["modelValue","options","canBeEmpty","isMultiple","minLength","maxLength","onOpen","onClose","onSelect","onRemove"]),[[e.vShow,l.isOpen]])],512)},d.__file="src/index.vue",d}));
