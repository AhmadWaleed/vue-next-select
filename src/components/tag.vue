<template>
  <ul class="vue-tag">
    <template v-for="option of modelValue">
      <li
        :key="option.id"
        @click="handleClick($event, option)"
        class="vue-tag-item"
        :class="{ active: option.active, inactive: !option.active }"
      >
        <slot :option="option">
          <span>{{ option.label }}</span>
        </slot>
      </li>
    </template>
  </ul>
</template>

<script>
export default {
  name: 'vue-tag',
  props: {
    modelValue: {
      required: true,
      type: Array,
      validator(modelValue) {
        return modelValue.every(option => {
          return typeof option.id === 'string' && typeof option.label === 'string' && typeof option.active === 'boolean'
        })
      },
    },
  },
  setup(props, context) {
    const handleClick = (event, option) => {
      context.emit('click', event, option)
    }

    return {
      handleClick,
    }
  },
}
</script>
